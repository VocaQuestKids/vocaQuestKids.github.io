import{_ as f}from"./_plugin-vue_export-helper-c27b6911.js";import{V as m,a as c,b as v}from"./VSheet-8ed18041.js";import{t as g,v as y,p as L}from"./VMenu-2f6ea26a.js";import{D as u,E as d,F as l,m as o,M as Q,L as p,H as w,J as _,I as b,G as V}from"./index-b725db2a.js";const k={name:"ObjectiveExercise",watch:{selectedLevel:function(){this.loadJsonAndGenerateQuiz()}},data:()=>({vocabularyList:[],currentQuestionEng:null,currentQuestion:null,options:[],selectedLevel:["초급"],levels:["초급","중급","고급"],wrongAttempts:0}),mounted(){this.loadJsonAndGenerateQuiz()},methods:{loadJsonAndGenerateQuiz(){fetch("/voca.json").then(e=>e.json()).then(e=>{this.vocabularyList=[];for(let t=0;t<this.selectedLevel.length;t++)for(let s=0;s<e.length;s++)this.selectedLevel[t]===e[s].type&&this.vocabularyList.push(e[s]);this.generateQuiz()}).catch(e=>{console.error("JSON 파일을 로드하는 중 오류가 발생했습니다:",e)})},generateQuiz(){if(this.vocabularyList.length===0){console.error("JSON 파일 로드 오류.");return}this.currentQuestion=this.vocabularyList[Math.floor(Math.random()*this.vocabularyList.length)],this.options=this.generateOptions(this.currentQuestion),this.displayQuestionAndOptions(this.currentQuestion,this.options)},generateOptions(e){const t=[],s=this.vocabularyList.filter(n=>n!==e);for(let n=0;n<4;n++){const i=s.splice(Math.floor(Math.random()*s.length),1)[0];t.push(i)}t.push(e);for(let n=t.length-1;n>0;n--){const i=Math.floor(Math.random()*(n+1));[t[n],t[i]]=[t[i],t[n]]}return t},displayQuestionAndOptions(e,t){this.currentQuestionEng=e.eng,this.currentQuestion=e,this.options=t},checkAnswer(e){this.options[e].eng===this.currentQuestionEng?this.$swal.fire({title:"정답입니다!",showConfirmButton:!1,timer:1e3,icon:"success"}):this.$swal.fire({title:"틀렸습니다.",text:"정답 : "+this.currentQuestion.kor,showConfirmButton:!1,timer:1e3,icon:"error"}),this.generateQuiz()},speakText(e){if("speechSynthesis"in window){const t=window.speechSynthesis,s=new SpeechSynthesisUtterance;s.text=e,t.speak(s)}else console.error("Web Speech API is not supported in this browser.")}}};function S(e,t,s,n,i,h){return u(),d(m,{class:"fill-height"},{default:l(()=>[o(y,{class:"align-center text-center fill-height"},{default:l(()=>[o(c,null,{default:l(()=>[o(v,{modelValue:e.selectedLevel,"onUpdate:modelValue":t[0]||(t[0]=r=>e.selectedLevel=r),id:"selectedLevel",name:"selectedLevel",ref:"selectedLevel",items:e.levels,label:"레벨 선택",dense:"",outlined:"",chips:"",multiple:"","hide-details":"",color:"fontColor",onChange:t[1]||(t[1]=r=>h.loadJsonAndGenerateQuiz())},null,8,["modelValue","items"])]),_:1}),o(g),Q("p",{class:"questionStyle",ref:"question"},p(e.currentQuestionEng),513),o(c,{style:{display:"flex",flexDirection:"column"}},{default:l(()=>[(u(!0),w(b,null,_(e.options,(r,a)=>(u(),d(L,{flat:"",class:"optionsStyle",id:"option_"+a,ref_for:!0,ref:"option_"+a,variant:"plain",key:a,onClick:O=>h.checkAnswer(a)},{default:l(()=>[V(p(r.kor),1)]),_:2},1032,["id","onClick"]))),128))]),_:1}),o(c,{style:{height:"10vh"}})]),_:1})]),_:1})}const x=f(k,[["render",S]]);export{x as default};
