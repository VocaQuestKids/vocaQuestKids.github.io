import{D as c,E as h,F as n,m as s,M as d,L as f,N as p,G as a}from"./index-b725db2a.js";import{_ as m}from"./_plugin-vue_export-helper-c27b6911.js";import{V as v,a as o,b as w,c as g}from"./VSheet-8ed18041.js";import{t as Q,p as u,v as V}from"./VMenu-2f6ea26a.js";const L={name:"SubjectExercise",watch:{selectedLevel:function(){this.loadJsonAndGenerateQuiz()}},data:()=>({vocabularyList:[],currentQuestionKor:null,currentQuestion:null,selectedLevel:["초급"],levels:["초급","중급","고급"],answer:"",hint:"",placeholder:""}),mounted(){this.loadJsonAndGenerateQuiz()},methods:{loadJsonAndGenerateQuiz(){fetch("/voca.json").then(e=>e.json()).then(e=>{this.vocabularyList=[];for(let t=0;t<this.selectedLevel.length;t++)for(let l=0;l<e.length;l++)this.selectedLevel[t]===e[l].type&&this.vocabularyList.push(e[l]);this.generateQuiz()}).catch(e=>{console.error("JSON 파일을 로드하는 중 오류가 발생했습니다:",e)})},generateQuiz(){if(this.vocabularyList.length===0){console.error("JSON 파일 로드 오류.");return}this.currentQuestion=this.vocabularyList[Math.floor(Math.random()*this.vocabularyList.length)],this.displayQuestion(this.currentQuestion)},displayQuestion(e){this.currentQuestionKor=e.kor,this.currentQuestion=e,this.updateHint(),this.updatePlaceholder(),this.$refs.answer.focus()},checkAnswer(){const e=this.answer.toLowerCase().replace(/\s/g,""),t=this.currentQuestion.eng.toLowerCase().replace(/\s/g,"");e===t?this.$swal.fire({title:"정답입니다!",showConfirmButton:!1,timer:1e3,icon:"success"}):this.$swal.fire({title:"틀렸습니다.",text:"정답 : "+this.currentQuestion.eng,showConfirmButton:!1,timer:1e3,icon:"error"}),this.answer="",this.generateQuiz()},isViewHint(){this.showHint()},showHint(){this.$swal.fire({title:"힌트",text:this.hint,showConfirmButton:!0,icon:"info"})},updateHint(){this.hint=this.currentQuestion.eng[0]+" _ ".repeat(this.currentQuestion.eng.length-1)},updatePlaceholder(){this.placeholder="_ ".repeat(this.currentQuestion.eng.length-1)+"_"}}};function y(e,t,l,C,b,i){return c(),h(v,{class:"fill-height"},{default:n(()=>[s(V,{class:"align-center text-center fill-height"},{default:n(()=>[s(o,null,{default:n(()=>[s(w,{modelValue:e.selectedLevel,"onUpdate:modelValue":t[0]||(t[0]=r=>e.selectedLevel=r),id:"selectedLevel",name:"selectedLevel",ref:"selectedLevel",items:e.levels,label:"레벨 선택",dense:"",outlined:"",chips:"",multiple:"","hide-details":"",color:"fontColor",onChange:i.loadJsonAndGenerateQuiz},null,8,["modelValue","items","onChange"])]),_:1}),s(Q),d("p",{class:"questionStyle",ref:"question"},f(e.currentQuestionKor),513),s(g,{ref:"answer",modelValue:e.answer,"onUpdate:modelValue":t[1]||(t[1]=r=>e.answer=r),placeholder:e.placeholder,label:"정답",dense:"",outlined:"","hide-details":"",onKeyup:p(i.checkAnswer,["enter"]),color:"fontColor"},null,8,["modelValue","placeholder","onKeyup"]),s(o,{class:"btnWrapper"},{default:n(()=>[s(u,{class:"btn",onClick:i.isViewHint,color:"mainColor"},{default:n(()=>[a("힌트")]),_:1},8,["onClick"]),s(u,{class:"btn",onClick:t[2]||(t[2]=r=>i.checkAnswer()),color:"mainColor"},{default:n(()=>[a("확인")]),_:1})]),_:1}),s(o,{style:{height:"10vh"}})]),_:1})]),_:1})}const z=m(L,[["render",y]]);export{z as default};
